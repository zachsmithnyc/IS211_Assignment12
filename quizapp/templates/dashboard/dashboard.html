{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}quizapp Dashboard{% endblock %}</h1>
  {% if g.user %}
    <a class="action" href="/student/add">Add Student</a>
    <a class="action" href="/quiz/add">Add Quiz</a>
    <a class="action" href="/result/add">Add Quiz Result</a>
  {% endif %}
{% endblock %}

{% block content %}
    <table>
        <tr>
            <th>id</th>
            <th>Student Name</th>
        </tr>
        {% for student in students %}
            <tr>
                <td>{{ student['id'] }}</td>
                <td>{{ student['name'] }}</td>
                <td><a class="action" href="{{ url_for('dashboard.view_results', id=student['id']) }}">View Quiz Results</a></td>
            </tr>
        {% endfor %}
    </table>
    
   
    <table>
        <tr>
            <th>id</th>
            <th>Subject</th>
            <th>Number of Questions</th>
            <th>Date</th>
        </tr>
        {% for quiz in quizzes %}
            <tr>
                <td>{{ quiz['quiz_id'] }}</td>
                <td>{{ quiz['subject'] }}</td>
                <td>{{ quiz['length'] }}</td>
                <td>{{ quiz['date'] }}</td>
            </tr>
        {% endfor %}
    </table>
{% endblock %}